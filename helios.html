<!DOCTYPE html>
<html>
  <head>
    <title>Helios IDE</title>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <meta name="author" content="Nicolas Petton" />
    <link type="image/x-icon" rel="shortcut icon" href="/favicon.ico"/>
  </head>
  <body id="helios">
    <div id="helper">Loading Helios...</div>

	<script type="text/javascript">
    window.requireNode = window.require;
    window.require = undefined; 
	</script>

    <div id="includes">
      <script type='text/javascript' src='support/requirejs/require.min.js'></script>
      <script type='text/javascript' src='support/amber.js'></script>
      <script type='text/javascript'>

	  require.config({
	      paths: {
	          'amber_cli': 'cli/src'
	      }
	  });

          require(
                  ["helios/all", "amber_cli/AmberCli"],
                  function (smalltalk) {
          window.require = window.requireNode;
                      window.onbeforeunload = function() {
                          return 'Do you want to close Amber? All uncommitted changes will be lost.';
                      };

        smalltalk.initialize({'transport.defaultAmdNamespace': "amber_core"});
	smalltalk.globals.HLManager._setup();
        smalltalk.globals.HLManager._current()._setTheme_('niflheim');
        smalltalk.globals.HLManager._current()._setEditorTheme_('niflheim');
        smalltalk.globals.HLRemoteConnector._connect();
                  }
          );

      </script>
    </div>
  </body>
</html>
